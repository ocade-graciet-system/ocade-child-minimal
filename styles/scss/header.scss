@import "./config.scss";

html.has-modal-open {
  .wp-block-navigation__responsive-container {
    display: flex !important;
  }
}

header {
  /** 🧙‍♂️ --hauteur-au-dessus-navigation-principale est fournit en javascript pas header.php */
 
  top: calc(-1 * var(--hauteur-au-dessus-navigation-principale)); /** Si position sticky: ajuster en fonction des taille d'écran pour que le menu soit positionner sur le bandeau des pages */
  position: unset;
  z-index: 9999;
  right: 0;
  left: 50%;
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  background-color: $white;

  &.is-sticky { position: sticky; }

  + .ocade-breadcrumbs-wrapper,
  .ocade-breadcrumbs-wrapper {
    position: relative;

    &::before {
      position: absolute;
      top: 0;
      left: 12.5%;
      content: "";
      height: 1px;
      width: 75%;
      border-top: 1px solid $supports-800;
    }

    &::after {
      --point-size: 1rem;
      content: "";
      position: absolute;
      top: calc(-1 * var(--point-size) / 2);
      left: calc(50% - var(--point-size) / 2);
      width: var(--point-size);
      height: var(--point-size);
      background-color: $primary-700;
      border-radius: 100%;
      
    }
  }

  > .wp-block-group {
    --width-logo: 100px;
    --width-icon-search: 70px;
    --height-item-menu: 40px;

    position: relative;
    display: flex;
    align-items: center;
    padding-left: var(--width-logo);
    padding-right: var(--width-icon-search);
    padding-top: 0;
    padding-bottom: 0;
    min-height: var(--width-logo);

    .wp-block-site-logo {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      left: 0;
      width: var(--width-logo);
      height: var(--width-logo);
      padding: 0;

      a {
        padding: 0;
        
        &::after { display: none !important; }
      }

      img {
        width: var(--width-logo);
        height: auto;
        object-fit: contain;
        padding: .5rem;
      }
    }

    .wp-block-navigation {
      align-items: stretch;
      min-height: var(--width-logo);
      background-color: transparent;

      .wp-block-navigation__responsive-container   {
        display: flex;
        align-items: center;
        display: none;

        .wp-block-navigation__responsive-close {
          height: 50%;
          min-height: 100%;

          .wp-block-navigation__responsive-dialog { 
            height: 100%; 
          
            .wp-block-navigation__responsive-container-content {
              align-items: center;
              height: 100%;
              background-color: $white;

              @media (max-width: 600px) { align-items: flex-start; }

              ul.wp-block-navigation__container {
                height: max-content;
                align-items: center;

                @media (max-width: 600px) { 
                  flex-direction: column; 
                  align-items: flex-start;
                }

                li { 
                  height: var(--height-item-menu);

                  @media (max-width: 600px) { 
                    width: 100%;
                    height: auto;
                    padding: .5rem 0;
                  }
                }
              }
            }
          }
        }
      }
    }

    form.wp-block-ocade-blocks-search {
      position: absolute;
      top: 0;
      bottom: 0;
      right: 0;
      width: var(--width-icon-search);

      label { display: none; }

      span {
        height: 100%;
        justify-content: flex-end;

        input { display: none; }

        button {
          top: 0;
          bottom: 0;
          width: 100%;
          height: 100%;
          border-radius: 0;
        }
      }
    }

    .wp-block-ocade-blocks-burger-btn {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }
  }
}